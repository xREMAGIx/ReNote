<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-crdt/yjs-framework" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.1">
<title data-rh="true">Yjs Framework | ReNote</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://xremagix.renote.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://xremagix.renote.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://xremagix.renote.github.io/docs/crdt/yjs-framework"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Yjs Framework | ReNote"><meta data-rh="true" name="description" content="Yjs is a CRDT implementation that exposes its internal data structure as shared types. Shared types are common data types like Map or Array with superpowers: changes are automatically distributed to other peers and merged without merge conflicts."><meta data-rh="true" property="og:description" content="Yjs is a CRDT implementation that exposes its internal data structure as shared types. Shared types are common data types like Map or Array with superpowers: changes are automatically distributed to other peers and merged without merge conflicts."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://xremagix.renote.github.io/docs/crdt/yjs-framework"><link data-rh="true" rel="alternate" href="https://xremagix.renote.github.io/docs/crdt/yjs-framework" hreflang="en"><link data-rh="true" rel="alternate" href="https://xremagix.renote.github.io/docs/crdt/yjs-framework" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="ReNote RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="ReNote Atom Feed"><link rel="stylesheet" href="/assets/css/styles.0b6ebd38.css">
<script src="/assets/js/runtime~main.aa5a39ea.js" defer="defer"></script>
<script src="/assets/js/main.db60dc17.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">ReNote</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Tutorial</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Tutorial Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/tutorial---basics">Tutorial - Basics</a><button aria-label="Expand sidebar category &#x27;Tutorial - Basics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/tutorial---extras">Tutorial - Extras</a><button aria-label="Expand sidebar category &#x27;Tutorial - Extras&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/crdt">CRDT</a><button aria-label="Collapse sidebar category &#x27;CRDT&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/crdt/definition">Definition</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/crdt/objects-and-operations">Objects and Operations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/crdt/state-based-crdt">State-based Convergent Replicated Data Type (CvRDT)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/crdt/op-based-crdt">Operation-based Commutative Replicated Data Type (CmRDT)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/crdt/relation-cvrdt-cmrdt">Relation between CvRDT and CmRDT</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/crdt/types-of-crdt">Types Of CRDT</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/crdt/counter-crdts">Counter CRDTs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/crdt/register-crdts">Register CRDTs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/crdt/set-crdts">Set CRDTs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/crdt/references">References</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/crdt/yjs-framework">Yjs Framework</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/markdown">Markdown</a><button aria-label="Expand sidebar category &#x27;Markdown&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/webrtc">WebRTC</a><button aria-label="Expand sidebar category &#x27;WebRTC&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/crdt"><span itemprop="name">CRDT</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Yjs Framework</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1 id="yjs-framework">Yjs Framework</h1>
<p>Yjs is a CRDT implementation that exposes its internal data structure as shared types. Shared types are common data types like Map or Array with superpowers: changes are automatically distributed to other peers and merged without merge conflicts.</p>
<p>Yjs is network agnostic (p2p!), supports many existing rich text editors, offline editing, version snapshots, undo/redo and shared cursors. It scales well with an unlimited number of users and is well suited for even large documents.</p>
<p><a href="https://github.com/yjs/yjs">Yjs - Github</a></p>
<admonition type="info"><p>Below information is based on what I have learned and it is referenced to this blog: <a href="https://www.bartoszsypytkowski.com/yata/">Delta-state CRDTs: indexed sequences with YATA</a></p><p>For more information, please read this paper: <a href="https://www.researchgate.net/publication/310212186_Near_Real-Time_Peer-to-Peer_Shared_Editing_on_Extensible_Data_Types">YATA paper</a></p></admonition>
<admonition type="warning"><p><strong>Disclaimer:</strong></p><p>I just note these infos that I found and learned, I dont own anything beside some images that I drawn</p><p>These code is generated by ChatGPT from F# to Typescript based on code in above blog, I haven&#x27;t checked its exactness</p></admonition>
<h2 id="dots">Dots</h2>
<p>We&#x27;ll use a separate sequencer for every replica and use pair of (replica-id, sequence-nr) (also known as dot) to represent a timestamp of a particular operation made on that replica</p>
<ol>
<li>
<p>It allows us to uniquely identify every single operation made on any replica.</p>
</li>
<li>
<p>It allows us to track causal relations between events - so while we may not be able to set a total order of events (fortunately we don&#x27;t need it), we still know how to order operations made by a single replica.</p>
</li>
<li>
<p>Unlike standard time, for every operation we increase sequence number by one. This way we can keep track of &quot;holes&quot; - a discontinuous events we haven&#x27;t yet observed for some reason.</p>
</li>
</ol>
<p>We&#x27;re used to represent observed events using markers on some sort of a timeline, like this:</p>
<p><img alt="Dot" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAtcAAAB4CAMAAAAOhS59AAABdFBMVEX///8iUHPu7u7n5+f4+Pj9/v4hT3MfTnL//v8hTnIeTXEjUXT8/Pz8/f0aSm76+/vx8PEcS3Dc3NwqV3kjUXUsWHo4YYEyXX7z9vfw8/YvW3z3+fr09PTr7/Lj6e7r6+u4x9LN199QdJDu8fV/mq5Jb4xFbIn19/nI093E0Nlig5xSd5InVHfQ2uKzw8+Rp7l4lKo7ZIPAzde7ydRNco7g5+vX4Obl5eXg4OCVq7yIoLNbfZdXepXm6+/a4uiqvMmMpLZvjaMmUnbp6emuv8yhtMRykKbMzMxmhp5fgZro7fHT3OS9vb1qiqFBaog/ZoY1X3/c4+rk5OTQ0NCbsMClt8aDnbCnp6eBgYGYrr6rq6uenp/4+vvt7e2urq57lqxpaWn29vbZ2dnV1dWcnJxAaId7e3vGxsaIiIhvb2+cssGjo6ONjY1kZGR1dXW3t7eYmJiWlpaSkpK0tLSysrKwsLB4eHjDw8Oot8Ozs7NXV1c7OzufXTZ1AAAOOElEQVR42uzBgQAAAACAoP2pF6kCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABm70ybEkfiOPyP2kcSjmW5YUBuuU/BAeQUWJDyYAqtssopa3bLN36C/fgLjjoqSbdOMKS2fF53dX6dfrrTTUP45JNPPvnkk08++eSTTx4wI9CK57gdLqfC1cA1bBh/YBZOlcOz4z1QB0Vb02Q5OW1Fzey6quFUKlw79sAHYo4Gc4swtZYXAZe9wGwZaRbYg42yt+jw1LLD/WBU0NaOxo6p5bsnh5H9/UxzdFVuwQapVuqjZmZ/P3J4UgjN1AZhuBNLZyLxSCYduwirOhssP9XVDdWs8DEEksPiJLO/CDO+7OTYtqJqqNBbRsoc9gqVKmwKczv01OH1chAMCTJ9/QM0gHKFya3bQcQFJOuK94Yba2j77iRxnv2ZpO9OpOs1pDDThGKZklMgy0KCs5SJVRRlCt714udZcQlx+E4n3ZwZ1k90UIy47ML9VWRf6fCy4gc1ULs+Trj74mPzxvM2gg2ApoX06UOHi9nz+MmwCgYEmf7U4nVgeOiWJVH4CSakXzqp+GEDePJpV18i+CEKkWT3ZBCFV0wv43bxKa9IsD1+OYXX+EMnrj55UdfhXRTWDMoVT7NEwo9hJOyMd2dqQ6AzOXc8NQ8TyeGadDygO4GLpnuRQ3jK0S+N83tgOLR5nSuWBFF4Dhb78XoUdKfVPXWI+EUSIp/FXmpiDjWd+GVeETubIRM8g0KgnnhdFxZcN1NYK3udQ7v46uZh3ziFYAUK1diZ/CqS6DhrBEFn2osOX8mRKBwDAmOhyevcJCsKKxB34xh0JnjjIwpJ7Cc1+IWpk8CreUUh0TG/GCKXbsW60mGgsDb88zOMV68iR0JmWGHWsytF8o2qoCMUcuOsUg53LAAGQ4vX7bSDyILS/W54QVeOb5xEWEUm/V4QHqAodEawoAC5rTxzyXPpJIqlHJM2rA1rx6V4FSzEK4i+bt4oqxwpe6PrDFJNO5RzOLtRMBYavA70HFhQhPiurKAjnoZdJQnOxqIPVkNynwjKkP0kPMpknfuIrFyXPAoAXdPMF7pVDROpvbqKt9EXVco6Gx7QjWjRoZbDXbcaayXy214j07wvCipIrhToBoK8TxJUIM67B2NbaSKoIaaPH+1PlVSL4Wzduiataxm1xLIgjrz0WVmEOj7VSMQ30MsnZJ7bsWoOVwUoGIjf9RpB+EwSVJHGUZ22EhRBMMNKctpeJqGmugMLqjjqZgpLomlGXaS0puHqvyGioAa2d16MgXacMJq3H9RLqPAtK0fTWEvs3/WaWouSIDNEGejlNUVzLDAgXTOiQKu3ksCyv7q0A6F8n1EZtvX8CDSDIOdmhbFlnjlCzQ1JYIDnCIEOoOsiKweWOxS90ThQxAheU0Rz5yybZNtkj4I+BCIS0+vTIKUIDQnTfmm41AN5xhZW50nuGqXanzCoy1ZVDgF9Kt06taknlwVpP0BBB2jbJQmMHLam521em462rKCEEbymULA5mH3jnIIuUCg7mMbKpAOIeg4lgdstiIZ9WGAhXSGkNTClxwl2GMvo6bGAYCCymyfnAX282QgNJWYOnE3RN+Uw7x4c7O4geI0RvIaFJxaBiWWo0/PR1OAlObECTJ1sYbF9CghB3SIzHZKafs1eI6gIbMhZkD41b2QRmJksRUR18NqatnFydN84vkxfdr992/2B4BVG8BpmbsIevpaeXx+vvbwRJt0GAC6WwjK75QIQMqU5xQR3FTSOV0qhaxHY4PKjI9SbkARmJmk/Ch/uNaXHLsK5gU3rW2OYv3w/ONj+guAFBvCaQlLGbK+l/YAuXtOgiwjcqRhiXK9vAFHvKRE4pLR6DRSNLQInzNVPrymCtpM3BtxT+PCnOoKwgxODnLXeMb5+bB182/5igl8Yw+u8ReB47QqCLtTsmHfHUwB8lcaAaNWNOcVsHe1e+yM2XpibJ6+ToiywcVT08DrPmRgw9uWAvqPKna3tb0cMszV7/W3r3XzfuuJ4gkVneGsN8JNUsMDB1vnje8bGK3T4fWsrZZd5XheW19TG9inhDrI/vj80b2DjRZL+3fpovi87nJejH3pnrUdf//7n6w/4EJD5z6/b72e3wF0iZlNH2zqwmydcr//9vh2ReIUy29tHlSzX6+6u5shfz7hepx+vctTh+iQNNUR6e4dzc8iDd+Y4Ovj7r3++AANN8/Xuzvux/sudr321HT2wJh1YYCOFrDtN7jpksqgs5xR4Xs+tmiNHExLmhOlZf9wX3dupcOdrnOdG0o51ufFmY0+9L8eX7a9fv22Z4BEDrK8BKhLHa+m2Bbow8xFOFDkMMOLuG3uAoOXCvMkxr3l9Ddamjed1AxB9+GpoX2CD7UngJ9L+2aTEW1+ft4G+3Tvr1sHL5bUxvM5lRZHZTFvTi0AHUIA3+xH3DKDL9boACK55Ozohm9PuNS3yFnGWx90phZZLFJiIpaoeXtd4BwBS3Pt2r38oWG0Ir4/PJLbXloZJH6/9JxbMXjlHPAAhLLARK0uVihz9yWkUIar1s4WhTeZMwTlA9KF5TZvALG2b6HFQgLxxiTMWe2+9M+jH4sjxaOXja0N4be1x5hwSAgo6gNDQxrnhl4jSVokwj65JKYgAwYAI7OP2kRlpDgxTH28kRtFTac4OXbbUQYeTXWS+sXDOhy7elgPdHzcqWG0Ir2Hg4B0Fg07U3ISznwFKTUUbW6WiFQFCwQT3G0lI+0N9byKxR2LB/OQ1hJ0EM49lckgPr6HSF5kdXpq9LYZpW/nrIcbwGgX2JebnBg0zoqADFPl7NmaStAchCik7Qw8s2suAlneDecSNbfEAWkNiGDgwc0MwhV940swRef/VWT2IZtg5Ylb0xkP0HVDCIF7ToYM5eqdUL6+hzHqsi9mfn2B4mXrYxl64Z8o6lceOK4TWkTnA3J9KxWv6/GiXdaBKnGXQxWuKLvqsDj8PG+o36b/vdWssMZ7XBRMFvfDHMFaX5OTB2DLDWOIqP8S9LjgYdU2ClIJ2mD/tEqREjqJfPlHvSMTqyYseqs/8QY/H6pmx0DDWK80YXrOhKHmmJjaWJi3Qz2s6y0iqksST9Geh67qdqMlhL1jRQ++10gSr1XWWAkTXkthzqTZ8ZMl58WJviuhU/bCURGpUH68B0WRCtcPFZpX+L37fuMA0VJkBMY4k9WwkhVCCqG1f82b6UChwk1XJ64gdAzz72TpWmdQvTGtzpHqiIjaxX3pfz+6hU5XgJM7ax65dlYFLLUckBej/4jV46oo/DSI4Uta5kdZBAmPF7052rL/0r/bsRNGkXvBZXHNlH4tKdbnme2scijXFd3Fg4oy1FJp3SxSbd5q3go7470pKOUQxXjGDsdDiNXivbgVxdaN2WEagM9Z8ZFUT0RG/8D93qV10k1WtfcU2IHgudnN1YsdiYu6BdZI78RG8Yur5ZVCpeZ24LCq8G2pgAl3xDBPCag7HYchoWmvzGvYGaZ9A8PPul0vFJOiPudw7f5mECO6T0DW8IFjYt2Py4tmS3S+8NokmiyVZfFEX9k3W/nbFWTfueB4GE2LPzAOghCl08qp5onB+UtZdJ39+7MavbnNplATDoc1rQLXCobsvSUTEWCQSsZfGF8ewEarziSv7lETqnzevqqsTTvkm7pTvC2FCJMGZuCkr+Hp8kS7Zya+63JluDdaOJzQ6tQsPYSRJdsZvktfqzWue/2oeybom8xlsgHb98Px5h7vSQyO+AhuZDr6AFq6T9V7k9txnd7pdicPixcwMG8JUGxYPEy6f0+lznWZGVzkTKBDNN9Lxktu5yFuKpxv5KCiBHuuy+87PIr16yg8fQWtwOUn8DHMWH3crUVbzcnejzOlT8+6mVtgI1+Gr0aLDlzmWHT5sG24Ncg/aMWn1KZgc1BuxWPculAvARmmFQ1eLJI2rfDiIQIW9dvmicBm7LFyUa4y1RSAXuusu6qoPkqp1acdbqwzvw3RS7WvgEAzn75s3z4dbsDnQY4fPQ2FjveVp3aA9b9Tr2fi/yyzxe7xezw4FJtZl3j0Td2ryLIsh+Fis91cxv6N5mz8CWXS4IXJ88sl/7Nq9jqMwFIbhT4bT2TJKjcRlhJ7CDVVcYIEGEUBABOT/RzN785tMdu4B7Zyntd29OrJk/39ksgkAUPS+S/sCT9u15+MtXCf0Wt4I/PPxfQAgIcHYIvkmH/MEymbZLQHEI1dAcMiyNMRLdMmyRsqmzLIVvjVZVnp4itsEjC0QISjK6z1Hcm+v3Ujbw7mSQLq/lZ0BoCi/34q7p7Ps0w2aAAq608UVviIxfllFS/qnxdgP7QG9k2kXkp1DcW32EpiOwLEEQfpVD707SE9SPQcKih5VSM28lvqSO8Nds6Ui9CdZZJBBVSsSOwkcBmvPBgSKZk04TlJBNV2oSKGdoHTVkD17zhB3zRZKeSeD0wU62BmFaCeJRLevplBGnogrKIyd1hQVF4Setz23pLAzH61FZ7lrtlCU5LlEe4MOKkvvrvtzMU02vOYPr5IKhZNSlOOW6jxfnY6k1M4UgzFz6XHXbJFIlHlI+DxptZ7X73mt9gYoB3Eoe7/agFyhgsMogFV5i69Oqmi2+71zf6oey3woZb8ciXZYxWtd702cdRKvrpXq0jgeJx+Amtq4qWyYuTre+HiKdyYu79GqsXbOE57XbInIfJ2LNg/UOLSdAUEMEkhdexwsCITaHYdiu5mHohgTAESlK1yPl6kGd80Waf1I07QPoU26wpOOCUCdpvHPhrTXEH36FOBF2bTGtzgEY4wxxhhjjDHGGGOMMfa3PTgQAAAAABC0P/UiFQAAAAAAAAAAAAAAANBMd/mGzkzKZAAAAABJRU5ErkJggg==" width="727" height="120"></p>
<p>With <strong>dots</strong> we can represent them using 2-dimensional space instead</p>
<p>Each filled cell represents a discrete event we observed, described as a dot. As you can see, most of the events form a continuous surface, only few ones are detached. This reflects a real life situation, since as we replicate our updates among replicas, each replica will try to keep up with incoming changes, filling the gaps it was not aware of before, thus over time filling the space from left to right</p>
<p><img alt="Dots" src="data:image/png;base64,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" width="772" height="378"></p>
<p>Ref: <a href="https://www.bartoszsypytkowski.com/optimizing-state-based-crdts-part-2/">CRDT optimization</a></p>
<h2 id="interleaving">Interleaving</h2>
<p>In short interleaving may happen, when two peers decide to insert entire ranges of elements at the same index. After synchronizing with each other it may turn out that their inserts are mixed (interleaved with each other). While this may not be an issue in some cases, there&#x27;s a one famous scenario where this behavior wrecks havoc: collaborative text editing.</p>
<p>For example:</p>
<p><em>Two people, Alice and Bob, want to collaborate over a text document. Initial document content was &quot;hi !&quot;. While offline, Alice edited it to &quot;hi mom!&quot;, while Bob to &quot;hi dad!&quot;. Once they got online, their changes were synchronized. What&#x27;s a desired state of the document after sync?</em></p>
<p><img alt="Interleaving" src="/assets/images/interleaving-5d8cfd6424a076ae4869a512a656e9d3.png" width="836" height="547"></p>
<p>While we could accept resolved document in form of &quot;hi momdad!&quot; or &quot;hi dadmom!&quot; - since they are easy to fix - the fact that characters from individual users could be mixed together would result in subpar user experience.</p>
<h2 id="yata-algorithm-yet-another-transformation-approach">YATA algorithm (Yet Another Transformation Approach)</h2>
<h3 id="meta-data">Meta data</h3>
<p>Our core unit of composition is <code>Block</code> type. We can simply represent a Yata collection in terms of array, where blocks are laid out in their read order</p>
<p><img alt="YATA Metadata" src="/assets/images/yataMetadata-c94c00810cbdf8bcf4d0b5ab13299e35.png" width="794" height="579"></p>
<ul>
<li><code>id</code>: unique block identifier</li>
<li><code>originLeft</code>: left neighbor at moment of original insertion</li>
<li><code>originRight</code>: right neighbor at moment of original insertion</li>
<li><code>value</code>: value stored in a block, None if tombstoned</li>
<li><code>isDeleted</code>; delete flag, true if tombstoned</li>
</ul>
<h3 id="insertion">Insertion</h3>
<p>With Insert operation, first we need to map user defined index in to actual index inside our YATA collection</p>
<p><img alt="YATA Insertion 1" src="/assets/images/yataInsertion1-a0a41912450dcfc39cd218903819934e.png" width="785" height="566"></p>
<p>Then we obtain IDs of its neighbors (if they exist)</p>
<p><img alt="YATA Insertion 2" src="/assets/images/yataInsertion2-0a1e21222326242d3a5f41c45ae89bf3.png" width="820" height="532"></p>
<p>Finally we&#x27;re creating a new block and inserting it at mapped index</p>
<h3 id="deletion">Deletion</h3>
<p>With deletion, all we need to do is to map user index with regard to tombstones to find a correct block and remove its value</p>
<p><img alt="YATA Deletion" src="/assets/images/yataDeletion-fb652f8f5755bcc8200418096f3acbaf.png" width="732" height="703"></p>
<h3 id="merging">Merging</h3>
<p>In order to safely resolve any potential conflicts, that may have appeared in result of concurrent block insertion, we use left and right origins as a reference points. That mean, they must have been there first.</p>
<p>When we&#x27;re going to do merges we also need to remember about existing blocks that have been tombstoned - we only recognize them by absence of their value. Thankfully, once a block is deleted, it&#x27;s not reintroduced again: inserting the same value at the same index is still a separate insert operation.</p>
<p><img alt="YATA Merging 1" src="/assets/images/yataMerging1-6d5110720d71cfe34bac86ef7f5187bc.png" width="871" height="685"></p>
<ol>
<li>
<p>The tombstones variable is created to store the IDs of any blocks in b that have been tombstoned.</p>
</li>
<li>
<p>The a array is cloned and any blocks with IDs that match those in tombstones have their value set to undefined (i.e., they are tombstoned).</p>
</li>
<li>
<p>The IDs of blocks in a are stored in the seen set.</p>
</li>
<li>
<p>The blocks variable is created to store any blocks in b that do not already exist in a.</p>
</li>
</ol>
<p><img alt="YATA Merging 2" src="/assets/images/yataMerging2-209741106583d32f7e37156796aa508b.png" width="764" height="712"></p>
<ol start="5">
<li>
<p>For each block in blocks, it is checked to see if its dependencies (i.e., the blocks it references with its OriginLeft and OriginRight properties) already exist in a. If they do not, the block is skipped for now and the loop continues.</p>
</li>
<li>
<p>Extract the ID and sequence number of the block to be inserted.</p>
</li>
<li>
<p>Determine the last sequence number of the block&#x27;s ID in the array.</p>
</li>
<li>
<p>Check if the block&#x27;s sequence number is exactly one greater than the last sequence number for its ID. If not, that means there is a gap in the sequence of blocks with that ID, which is not allowed</p>
</li>
<li>
<p>Find the index at which to insert the new block in the array.</p>
</li>
<li>
<p>The loop continues until all blocks in blocks have been inserted into a. The updated a array is returned</p>
</li>
</ol>
<p>Based on the left and right origins of the block, we can establish a boundaries between which it&#x27;s safe to insert a new block eg. if originally block was inserted at index 1, it&#x27;s left and right origins prior to insertion were are positions 0 (left) and 1 (right)</p>
<p>However as blocks can be inserted in the same place at different times on different replicas, the window between left and right origins may have grown. To resolve total order of blocks inserted within that window, we&#x27;re use following function</p>
<p><strong>Find Insert Index</strong></p>
<p>We&#x27;re going to compare the unique identifiers of each peer so that inserts made by peers with higher IDs will always be placed after peers with lower IDs.</p>
<p><img alt="Find Insert Index" src="/assets/images/findInsertIndex-e54c87a289a6e113c087c9d9e622db6d.png" width="724" height="808"></p>
<p>This is in essence very similar to RGA conflict resolution algorithm (<em>in case of concurrent inserts at the same position shift element to the right if its contender had lower peer id</em>) with one difference:</p>
<ul>
<li>RGA block ID uses a single globally incremented counter. A right shift stop condition is:Â <em>until sequence number of a right-side neighbor&#x27;s ID is lower than current block&#x27;s</em>. This has sense, as globaly incremented sequence number means that only concurrently inserted blocks can have same or higher sequence numer.</li>
<li>YATA block ID uses a counter per replica, however here a right shift stop condition is defined explicitly - it&#x27;s a position of our right origin.</li>
</ul>
<p>As you might have noticed this implementation doesn&#x27;t allow for out-of-order deliveries - which puts some restrictions on our replication protocol. Some implementations (like Yjs) solve this by stashing blocks that have arrived before their predecessors and reintegrating them once block&#x27;s dependencies have been received.</p>
<h3 id="deltas">Deltas</h3>
<p>This approach is not flexible and can introduce heavy overhead - changing one element would require sending entire state to all peers</p>
<p>We need to implement deltas approach so that they only carry information not observed by specific peers</p>
<p>Fortunately there&#x27;s a 1-1 relation between YATA block IDs and vector clocks. Here all we really need is to aggregate the highest IDs of all blocks in current YATA array:</p>
<pre><code class="language-typescript">function version(a: Yata&lt;T&gt;): VTime {
  return a.reduce((vtime, block) =&gt; {
    const [replicaId, seqNr] = block.id;
    const seqNrPrev = vtime.get(replicaId);
    if (seqNrPrev === undefined) {
      vtime.set(replicaId, seqNr);
    } else {
      vtime.set(replicaId, Math.max(seqNrPrev, seqNr));
    }
    return vtime;
  }, Version.zero);
}
</code></pre>
<p>All we need to do is to take blocks which sequence numbers are higher that sequence numbers of corresponding vector clock entries. After this we&#x27;re almost done: we also need to remember that there might be blocks known to remote peer, that have been deleted in the meantime. For this reason we take IDs of tombstoned blocks and pass them over as well.</p>
<pre><code class="language-typescript">type Delta&lt;T&gt; = [Yata&lt;T&gt;, string[]];

function delta&lt;T&gt;(version: VTime, a: Yata&lt;T&gt;): Delta&lt;T&gt; {
  const deltaArray = a.filter((block) =&gt; {
    const [replicaId, seqNr] = block.Id;
    const seqNrPrev = version.get(replicaId);
    return seqNrPrev === undefined || seqNr &gt; seqNrPrev;
  });

  const tombstones = a
    .filter((block) =&gt; block.IsDeleted)
    .map((block) =&gt; block.Id);

  return [deltaArray, tombstones];
}
</code></pre>
<p>While it may look like pushing all tombstoned elements is not really matching what we&#x27;d like to expect from delta behavior, in practice they are minor issue:</p>
<ol>
<li>
<p>Since we only pass identifiers, their size is pretty small.</p>
</li>
<li>
<p>Practical implementations may encode tombstoned ranges in very compact notation eg. <code>A:(1..100)</code> to encode <strong>all</strong> deleted blocks from <code>A:1</code> up to <code>A:100</code>.</p>
</li>
</ol>
<p>After describing these details, implementation of delta merges becomes trivial:</p>
<pre><code class="language-typescript">function mergeDelta&lt;T&gt;(delta: [Yata&lt;T&gt;, ID[]], a: Yata&lt;T&gt;): Yata&lt;T&gt; {
  const [deltaArray, tombstones] = delta;
  const merged = merge(a, deltaArray); // merge newly inserted blocks
  return merged.map((block) =&gt;
    !block.IsDeleted &amp;&amp; tombstones.includes(block.Id)
      ? { ...block, Value: undefined } // tombstone block
      : block
  );
}
</code></pre>
<h2 id="architecture">Architecture</h2>
<admonition type="info"><p>Reference blog: <a href="https://www.bartoszsypytkowski.com/yrs-architecture/">Deep dive into Yrs architecture</a></p><p>Because the shared foundation and optimization techniques of both of these projects are the same so I will use it as reference to note!</p></admonition>
<h3 id="document">Document</h3>
<p>Document is the most top-level organization unit in Yjs. It basically represents an independent key-value store, where keys are names defined by programmers, and values are so called root types: a Conflict-free Replicated Data Types (CRDTs) that serve particular purposes.</p>
<p>In Yjs every operation happens in a scope of its document: all information is stored in documents, all causality (represented by the vector clocks) is tracked on per document basis. If you want to compute or apply a delta update to synchronize two peers, this also must happen on an entire document.</p>
<p>Documents are using delta-state variant of CRDTs and offer a very simple 2-step protocol:</p>
<ol>
<li>
<p>Document <em>A</em> sends its vector version to Document <em>B</em>.</p>
</li>
<li>
<p>Based on <em>A</em>&#x27;s state vector, <em>B</em> can calculate missing delta which contains only the necessary data and then send it back to <em>A</em>.</p>
</li>
</ol>
<h3 id="block-struct">Block (struct)</h3>
<p><img alt="Block struct" src="/assets/images/yBlock-314341011e1907098c093749f4e2bf7c.png" width="737" height="572"></p>
<p>Each block is reinforced by a set of fields, most of which are optional:</p>
<ul>
<li>
<p>Unique block identifier, which is logically similar to <a href="https://en.wikipedia.org/wiki/Lamport_timestamp">Lamport Timestamp</a>.</p>
</li>
<li>
<p>Left and right origins which point to its neighbours IDs at the moment of insertion and are used by YATA algorithm.</p>
</li>
<li>
<p>Pointers to left and right blocks - in Yjs/Yrs block sequences are organized as double-linked lists. Keep in mind that, these fields don&#x27;t have to be equal to origins: origins represent neighbors at the moment of original block insertion, while these pointers represent current placement of a block in relation to others.</p>
</li>
<li>
<p>Parent, which points to a shared type containing this block. In case you haven&#x27;t figured out: Yjs/Yrs collection types can be nested in each other, creating a recursively nested document trees.</p>
</li>
<li>
<p>In cases of map-like types (YMap but also attributes of XML types), it can also contain an associated key, it&#x27;s responsible for, effectively working as a key-value entry.</p>
</li>
<li>
<p>Bit-flag field informing about various properties specific to that block data, such as information if such block has been tombstoned or what is its intended collection type.</p>
</li>
<li>
<p>Content, which contains a user-defined data. It can be as simple as a JSON-like value - number, string, boolean or embedded map that doesn&#x27;t expose CRDT properties, but also other nested CRDT collections.</p>
</li>
</ul>
<p>These blocks are organized in a block store on per client (peer) basis - all blocks produced by the same client are laid out next to each other in memory:</p>
<p><img alt="Block store" src="/assets/images/yBlockStore-b09a3ffc73b4d3fccc31592b54f822f0.png" width="749" height="380"></p>
<admonition type="note"><p>This is a lot of metadata to hold for every single character inserted by the user. That would be right, however Yjs implements an optimization technique that allows us to squash blocks inserted or deleted one after another, effectively reducing their count while keeping all guarantees in check</p></admonition>
<h4 id="block-splitting">Block splitting</h4>
<p>All of this is possible because consecutive block ID (client_id-clock pairs) are not assigned using clock numbers increased by one per block, but by one per a block element</p>
<p><em>For example: if we assigned an ID A:1 to a 3-element block [a,b,c] and then insert a next element d on the same client, that inserted block&#x27;s ID will be A:4 (it&#x27;s increased by the number of elements stored in the previous block)</em></p>
<p><img alt="Block splitting" src="/assets/images/blockSplitting-847ccc3a56fb52c9da2b906a6ffd612a.png" width="1626" height="499"></p>
<h4 id="block-squashing">Block squashing</h4>
<p>It&#x27;s very useful in scenarios when the same peer inserts multiple elements one after another as a separate operations. The most obvious case of this is simply writing sentences character by character in your text editor.</p>
<p>Thanks to block squashing, we can represent separate consecutive blocks of data</p>
<p><em>For example: A:1=[a] followed by A:2=[b] using a single block instead (A:1=[a,b])</em></p>
<p><img alt="Block squashing" src="/assets/images/blockSquashing-057afe8d5ad9311ed4c61775a15b5a83.png" width="1355" height="485"></p>
<p><strong>Advantages:</strong></p>
<p>Reduction of memory footprint (blocks contain extra metadata that can easily outweigh a small content footprint) and better memory locality (blocks are organized as double linked list nodes, while contents of individual block form continuous array of elements placed next to each other in memory).</p>
<p><strong>Limitations:</strong></p>
<p>Squashed blocks must contain data of the same slittable type and next to each other both in terms of:</p>
<ol>
<li>
<p>being each others neighbours</p>
</li>
<li>
<p>emitted by the same client</p>
</li>
<li>
<p>their IDs must follow one another with no &quot;holes between&quot;</p>
</li>
</ol>
<p><em>For example: we can potentially squash A:1=[a,b] with A:3=[c], but not with A:4=[c] because we would miss some block with ID A:3 in between</em></p>
<h3 id="branch">Branch</h3>
<p>Underneath all CRDT collections are represented by the same kind of block content known as a Branch. Branch node is capable of storing two specific types of collections at once: both key-value entries and index-ordered double-linked list containing batches of items.</p>
<p><img alt="Branch" src="/assets/images/yBranch-aa3f665e7f2946d5851451745e73cb65.png" width="691" height="511"></p>
<p>Represent collections capable of having CRDT semantics</p>
<p>Currently there are several types of these:</p>
<ul>
<li>
<p>Text and XmlText specializing in supporting collaborative text editing.</p>
</li>
<li>
<p>Array used as index-ordered sequence of elements.</p>
</li>
<li>
<p>Map used as key-value hash map with last-write-wins semantics.</p>
</li>
<li>
<p>XmlElement which works as an XML node capable of having key-value string attributes as well as other nodes in user-specified order: either other XmlElements or XmlText.</p>
</li>
</ul>
<p><strong>YMap Struct example:</strong></p>
<p><img alt="YMap" src="/assets/images/yMap-151c921fbfac44f487aad38b1967a4a4.png" width="1650" height="717"></p>
<p><strong>XmlType Struct example:</strong></p>
<p><img alt="YXml" src="/assets/images/yXml-92eccbfe56648207531db2608f5d60d3.png" width="1621" height="738"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/xREMAGIx/renote/tree/main/docs/crdt/yjs-framework.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/crdt/references"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">References</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/category/markdown"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Markdown</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#dots" class="table-of-contents__link toc-highlight">Dots</a></li><li><a href="#interleaving" class="table-of-contents__link toc-highlight">Interleaving</a></li><li><a href="#yata-algorithm-yet-another-transformation-approach" class="table-of-contents__link toc-highlight">YATA algorithm (Yet Another Transformation Approach)</a><ul><li><a href="#meta-data" class="table-of-contents__link toc-highlight">Meta data</a></li><li><a href="#insertion" class="table-of-contents__link toc-highlight">Insertion</a></li><li><a href="#deletion" class="table-of-contents__link toc-highlight">Deletion</a></li><li><a href="#merging" class="table-of-contents__link toc-highlight">Merging</a></li><li><a href="#deltas" class="table-of-contents__link toc-highlight">Deltas</a></li></ul></li><li><a href="#architecture" class="table-of-contents__link toc-highlight">Architecture</a><ul><li><a href="#document" class="table-of-contents__link toc-highlight">Document</a></li><li><a href="#block-struct" class="table-of-contents__link toc-highlight">Block (struct)</a></li><li><a href="#branch" class="table-of-contents__link toc-highlight">Branch</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 ReNote. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>